<!DOCTYPE html>
<html>
<head>
    <title>Certificate Preview</title>
    <style>
        body { margin: 0; padding: 0; display: flex; flex-direction: column; height: 100vh; }
        #pdf-viewer { flex-grow: 1; }
        #print-button { padding: 10px; font-size: 16px; }
    </style>
</head>
<body>
    <embed id="pdf-viewer" type="application/pdf" width="100%" height="90%">
    <button id="print-button">Print Certificate</button>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.9.359/pdf.min.js"></script>
    <script>
        const viewer = document.getElementById('pdf-viewer');
        const printButton = document.getElementById('print-button');

        window.api.receivePdfData((data) => {
            viewer.src = `data:application/pdf;base64,${data}`;
        });

        printButton.addEventListener('click', async () => {
            const newNumber = await window.api.printCertificate();
            alert(`Certificate printed. New certificate number: ${newNumber}`);
        });
    </script>
</body>
</html>
